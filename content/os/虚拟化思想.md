---
tags:
  - "#虚拟化"
  - "#抽象"
  - 分层
---

>[!abstract] 
> 虚拟化就是提供了一个抽象层

底层的资源或者通过空间的分割，或者通过时间的分割，将下层的资源通过一种简单易用的方式转换成另一种资源，提供给上层使用
#question 只是分割吗? 感觉还需要附加秩序吧, 比如: 信息 = 位 + 上下文


计算机科学家David Wheeler有一句名言：“计算机科学中的任何
问题都可以通过增加一个中间层来解决。”这句话简洁而深刻地说明
了虚拟化的思想存在于计算机科学中的各个领域。

虚拟化的主要思想是，通过分层将底层的复杂、难用的资源虚拟抽象成简单、易用的资源，提供给上层使用。本质上，计算机的发展过程也是虚拟化不断发展的过程。

CPU内部遍布的数字逻辑电路只能够识别二进制数据0、1，**机器码**
是计算机唯一能够识别的数据。

**汇编语言**的出现让程序员能够比较简单地实现CPU的执行和内存访问。

**C语言**的出现进一步方便了程序员，使得程序员可以从具体CPU架构指令脱离出来，大部分情况下只需要考虑业务即可。


Python、Java等**现代高级语言**更是重新定义了自己的指令，由各个平台的虚拟机去解释执行，实现了完全的跨平台。

从机器码、汇编语言到C语言，再到高级语言，其本质就是一个不断虚拟的过程，将**底层复杂的接口转变成了上层容易使用的接口**。

**硬盘**由柱面、磁道、扇区构成，里面存放着文件等数据信息，计算机用户在进行文件访问的时候并不需要关心这些底层细节。
这些细节经过操作系统的**抽象**，变成了文件与目录的概念，使得复杂的硬盘数据管理变得简单方便。
应用程序能够通过文件管理的接口方便地创建、读取、写入文件，这本质上也是一种虚拟。

**TCP/IP协议栈**模型是另一个虚拟化的例子。
网卡设备传递的都是二进制数接口据，经过网络层、传输层的抽象之后，应用程序不需要直接跟网络数据包的收发细节打交道，只需要关心协议栈最上层的接口，也不需要关心其他使用网卡设备的程序，只需要将要发送的数据和地
址提供给协议栈。
协议栈会自动处理好IP路由、分片等细节。

**现代操作系统**中都有很多进程，每一个进程都是对计算机的抽象，进程都认为自己独占整个计算机系统的资源，有着独立的CPU和内存。
但这些都是操作系统呈现给进程的假象，操作系统通过在各个进程之间共享CPU，为每个进程创建独立的虚拟内存，这不仅能够实现资源的充分利用，也能够实现进程之间的安全隔离。

操作系统会提供一组**接口**给应用程序，方便开发者编写应用程序，比如创建进程操作文件、发送网络数据等，这种抽象本质上也是虚拟化的一种体现。开发者只需要关注上层的接口而不需要关心底层的细节实现。
这样底层的实现即使发生了变化，也不会影响上层应用程序的运行，如Wine项目和Cygwin项目，前者能够让为Windows编写的程序运行在Linux上，后者能够让为Linux编写的程序运行在Windows上。