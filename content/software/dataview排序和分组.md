##  Sort 排序

按一个或多个字段对所有结果进行排序。

```
SORT date [ASCENDING/DESCENDING/ASC/DESC]
```

```
sort file.mtime desc
```

排序的方式

- ASC：升序
- DESC：降序




##  FLATTEN数据扁平化

扁平化是很拗口的一个说法，其实就是将一组数据变成多行数据，每个数据一行，展开方便阅读而已。

概念

打个比方：一个Excel的数据，有多列，现在按照某一列的数据，展示出来，展示的结果是一个数据占一行

举例

展平每个书籍注释中的 `作者` 字段，为每个作者放一行

什么时候使用？

基础查询语法

````
```dataview
TABLE 作者 
FROM #书籍 
FLATTEN 作者
```
````

结果演示


| 书名                  | 作者         | 出版日期     | 出版社     | 价格      |
|-----------------------|--------------|--------------|------------|-----------|
| 阳光下的快乐笔记        | 欢快小编     | 2023-03-15   | 欢乐出版社 | $20.00    |
| 欢笑的故事集           | 笑声大师     | 2022-11-10   | 快乐出版社 | $18.50    |
| 快乐的文字游戏         | 文字欢喜人   | 2023-05-20   | 欢乐文化   | $22.99    |
| 欢快心情的诗歌         | 欢歌诗人     | 2022-09-08   | 欢歌出版   | $15.75    |
| 欢跳的小说世界         | 欢乐作家     | 2023-01-30   | 欢跳出版   | $24.99    |


查询结果示例：

| 文件名称     | 作者    |
| -------- | ----- |
| 阳光下的快乐笔记 | 欢快小编  |
| 欢笑的故事集   | 笑声大师  |
| 快乐的文字游戏  | 文字欢喜人 |
| 欢快心情的诗歌  | 欢歌诗人  |
| 欢跳的小说世界  | 欢乐作家  |

## GROUP BY 数据分组

这是一个很有意思的命令，当你查询出来的数据想按照一定的要求分组显示。就可以使用。

比如在 list 视图下面，

- 将结果按照不同的日期分组显示
- 将结果按照不同的文件夹展示
- 将结果按照不同的文件路径展示
- 其他的参数
    - `file.name` 文件名称
    - `file.cday` 文件创建日期
    - `file.mday` 文件修改日期

list视图/按照文件夹分组

```
list rows.file.link
from "Longform"
where file.name != "Index"
GROUP BY file.folder
```

list视图/按照文件夹分组

```
按照 list 展示，并加上参数 row.file.link 文件链接
从 Longform 文件夹查询
where 限制条件：不允许文件名中包含 Index 的文件
分组展示，按照 file.folder 文件夹
```

注意：这里有个小技巧

- list 视图，我们追加了显示，在原有显示的基础上增加了 `row.file.link`，这一句会增加一个文件的链接。
- 因为我们使用了 `GROUP BY` 分组之后，会失去文本的链接，所以需要使用上面的语法增加链接。

> 对于 [list 追加显示](/zh/dataview/dataview-advanced-e.html) 的方法，可以看这篇文章

